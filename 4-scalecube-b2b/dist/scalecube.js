window.parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"VtW9":[function(require,module,exports) {
"use strict";
},{}],"jp5m":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.DispatcherContext=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),t=require("./");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.RoundRobinServiceRouter,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;r(this,i),this.microservices=e,this.myrouter=n,this.timeout=o}return e(i,[{key:"router",value:function(e){return this.myrouter=e,this}},{key:"create",value:function(){return new t.ServiceCall(new this.myrouter(this.microservices.serviceRegistery),this.timeout)}}]),i}();exports.DispatcherContext=i;
},{"./":"zfNb"}],"lWhJ":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.Microservices=void 0;var e=function(){function e(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,n,i){return n&&e(r.prototype,n),i&&e(r,i),r}}(),r=require("./");function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var i=function(){function i(){n(this,i),this.servicesConfig=new r.ServicesConfig([])}return e(i,[{key:"services",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.servicesConfig=r.ServicesConfig.builder(this).services(n).create(),this}},{key:"serviceLoaders",value:function(){for(var e=this,n=arguments.length,i=Array(n),t=0;t<n;t++)i[t]=arguments[t];return i.map(function(n){return e.services(r.utils.makeLoader(n.loader(),n.serviceClass))}),this}},{key:"build",value:function(){return new t(this.servicesConfig)}}]),i}(),t=exports.Microservices=function(){function t(e){return n(this,t),this.serviceRegistery=new r.ServiceRegistery(e),this}return e(t,[{key:"proxy",value:function(){return new r.ProxyContext(this)}},{key:"dispatcher",value:function(){return new r.DispatcherContext(this)}}],[{key:"builder",value:function(){return new i}}]),t}();
},{"./":"zfNb"}],"2dzk":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ProxyContext=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(e){r(this,n),this.microservices=e,this.router=t.RoundRobinServiceRouter}return e(n,[{key:"createProxy",value:function(e,t){var r=this.microservices.dispatcher().router(t).create(),n=Object.create(e);return Object.getOwnPropertyNames(n.prototype).map(function(e){"constructor"!==e?delete n[e]:n[e]=function(){}}),Object.keys(e.meta.methods).map(function(t){n[t]=function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var a={serviceName:e.name,method:t,data:o};return"Promise"===e.meta.methods[t].type?r.invoke(a):"Observable"===e.meta.methods[t].type?r.listen(a):new Error("service method unknown type error: "+e.name+"."+t)}}),n}},{key:"create",value:function(){return this.createProxy(this.myapi,this.router)}},{key:"api",value:function(e){return this.myapi=e,this}}]),n}();exports.ProxyContext=n;
},{"./":"zfNb"}],"zPm+":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.RoundRobinServiceRouter=void 0;var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r=require("./");function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var n=exports.RoundRobinServiceRouter=function(){function r(e){t(this,r),this.registry=e,this.counter=new Map}return e(r,[{key:"route",value:function(e){var r=this.registry.serviceLookup(e.serviceName).filter(function(r){return"undefined"!==r.serviceDefinition.methods[e.method]});if(r.length>1){var t=((this.counter.get(e.serviceName)||0)+1)%r.length;return this.counter.set(e.serviceName,t),r[t]}return 1===r.length?r[0]:null}}]),r}();
},{"./":"zfNb"}],"x038":[function(require,module,exports) {
"use strict";var r=require("./");
},{"./":"zfNb"}],"SgnA":[function(require,module,exports) {
var global = arguments[3];
var o=arguments[3],e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,f=void 0!==o&&o,l=e||f||n;exports.root=l,function(){if(!l)throw new Error("RxJS could not find any global context (window, self, global)")}();
},{}],"BG6I":[function(require,module,exports) {
"use strict";function t(t){return"function"==typeof t}exports.isFunction=t;
},{}],"ITh/":[function(require,module,exports) {
"use strict";exports.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length};
},{}],"gzZ3":[function(require,module,exports) {
"use strict";function t(t){return null!=t&&"object"==typeof t}exports.isObject=t;
},{}],"5UgM":[function(require,module,exports) {
"use strict";exports.errorObject={e:{}};
},{}],"1IBE":[function(require,module,exports) {
"use strict";var r,t=require("./errorObject");function e(){try{return r.apply(this,arguments)}catch(r){return t.errorObject.e=r,t.errorObject}}function c(t){return r=t,e}exports.tryCatch=c;
},{"./errorObject":"5UgM"}],"SY+v":[function(require,module,exports) {
"use strict";var r=this&&this.__extends||function(r,t){for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);function s(){this.constructor=r}r.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)},t=function(t){function n(r){t.call(this),this.errors=r;var n=Error.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(n,t),n}(Error);exports.UnsubscriptionError=t;
},{}],"I9Xa":[function(require,module,exports) {
"use strict";var r=require("./util/isArray"),t=require("./util/isObject"),i=require("./util/isFunction"),e=require("./util/tryCatch"),s=require("./util/errorObject"),n=require("./util/UnsubscriptionError"),o=function(){function o(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var c;return o.prototype.unsubscribe=function(){var o,c=!1;if(!this.closed){var a=this._parent,p=this._parents,h=this._unsubscribe,b=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,l=p?p.length:0;a;)a.remove(this),a=++f<l&&p[f]||null;if(i.isFunction(h))e.tryCatch(h).call(this)===s.errorObject&&(c=!0,o=o||(s.errorObject.e instanceof n.UnsubscriptionError?u(s.errorObject.e.errors):[s.errorObject.e]));if(r.isArray(b))for(f=-1,l=b.length;++f<l;){var d=b[f];if(t.isObject(d))if(e.tryCatch(d.unsubscribe).call(d)===s.errorObject){c=!0,o=o||[];var _=s.errorObject.e;_ instanceof n.UnsubscriptionError?o=o.concat(u(_.errors)):o.push(_)}}if(c)throw new n.UnsubscriptionError(o)}},o.prototype.add=function(r){if(!r||r===o.EMPTY)return o.EMPTY;if(r===this)return this;var t=r;switch(typeof r){case"function":t=new o(r);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){var i=t;(t=new o)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},o.prototype.remove=function(r){var t=this._subscriptions;if(t){var i=t.indexOf(r);-1!==i&&t.splice(i,1)}},o.prototype._addParent=function(r){var t=this._parent,i=this._parents;t&&t!==r?i?-1===i.indexOf(r)&&i.push(r):this._parents=[r]:this._parent=r},o.EMPTY=((c=new o).closed=!0,c),o}();function u(r){return r.reduce(function(r,t){return r.concat(t instanceof n.UnsubscriptionError?t.errors:t)},[])}exports.Subscription=o;
},{"./util/isArray":"ITh/","./util/isObject":"gzZ3","./util/isFunction":"BG6I","./util/tryCatch":"1IBE","./util/errorObject":"5UgM","./util/UnsubscriptionError":"SY+v"}],"cp1M":[function(require,module,exports) {
"use strict";exports.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}};
},{}],"GsTu":[function(require,module,exports) {
"use strict";var r=require("../util/root"),o=r.root.Symbol;exports.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",exports.$$rxSubscriber=exports.rxSubscriber;
},{"../util/root":"SgnA"}],"LGJh":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);function i(){this.constructor=t}t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},r=require("./util/isFunction"),s=require("./Subscription"),i=require("./Observer"),e=require("./symbol/rxSubscriber"),n=function(r){function s(t,s,n){switch(r.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.empty;break;case 1:if(!t){this.destination=i.empty;break}if("object"==typeof t){if(c(t)){var u=t[e.rxSubscriber]();this.syncErrorThrowable=u.syncErrorThrowable,this.destination=u,u.add(this)}else this.syncErrorThrowable=!0,this.destination=new o(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new o(this,t,s,n)}}return t(s,r),s.prototype[e.rxSubscriber]=function(){return this},s.create=function(t,r,i){var e=new s(t,r,i);return e.syncErrorThrowable=!1,e},s.prototype.next=function(t){this.isStopped||this._next(t)},s.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},s.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},s.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},s.prototype._next=function(t){this.destination.next(t)},s.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},s.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},s.prototype._unsubscribeAndRecycle=function(){var t=this._parent,r=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=r,this},s}(s.Subscription);exports.Subscriber=n;var o=function(s){function e(t,e,n,o){var c;s.call(this),this._parentSubscriber=t;var u=this;r.isFunction(e)?c=e:e&&(c=e.next,n=e.error,o=e.complete,e!==i.empty&&(u=Object.create(e),r.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=c,this._error=n,this._complete=o}return t(e,s),e.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var s=function(){return t._complete.call(t._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,s),this.unsubscribe()):(this.__tryOrUnsub(s),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,r,s){try{r.call(this._context,s)}catch(r){return t.syncErrorValue=r,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(n);function c(t){return t instanceof n||"syncErrorThrowable"in t&&t[e.rxSubscriber]}
},{"./util/isFunction":"BG6I","./Subscription":"I9Xa","./Observer":"cp1M","./symbol/rxSubscriber":"GsTu"}],"4qVc":[function(require,module,exports) {
"use strict";var r=require("../Subscriber"),e=require("../symbol/rxSubscriber"),b=require("../Observer");function i(i,u,s){if(i){if(i instanceof r.Subscriber)return i;if(i[e.rxSubscriber])return i[e.rxSubscriber]()}return i||u||s?new r.Subscriber(i,u,s):new r.Subscriber(b.empty)}exports.toSubscriber=i;
},{"../Subscriber":"LGJh","../symbol/rxSubscriber":"GsTu","../Observer":"cp1M"}],"siyM":[function(require,module,exports) {
"use strict";var e=require("../util/root");function r(e){var r,o=e.Symbol;return"function"==typeof o?o.observable?r=o.observable:(r=o("observable"),o.observable=r):r="@@observable",r}exports.getSymbolObservable=r,exports.observable=r(e.root),exports.$$observable=exports.observable;
},{"../util/root":"SgnA"}],"veqC":[function(require,module,exports) {
"use strict";function o(){}exports.noop=o;
},{}],"5esv":[function(require,module,exports) {
"use strict";var r=require("./noop");function n(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];return e(r)}function e(n){return n?1===n.length?n[0]:function(r){return n.reduce(function(r,n){return n(r)},r)}:r.noop}exports.pipe=n,exports.pipeFromArray=e;
},{"./noop":"veqC"}],"DRWY":[function(require,module,exports) {
"use strict";var r=require("./util/root"),o=require("./util/toSubscriber"),t=require("./symbol/observable"),e=require("./util/pipe"),i=function(){function i(r){this._isScalar=!1,r&&(this._subscribe=r)}return i.prototype.lift=function(r){var o=new i;return o.source=this,o.operator=r,o},i.prototype.subscribe=function(r,t,e){var i=this.operator,n=o.toSubscriber(r,t,e);if(i?i.call(n,this.source):n.add(this.source||!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},i.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(o){r.syncErrorThrown=!0,r.syncErrorValue=o,r.error(o)}},i.prototype.forEach=function(o,t){var e=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(r,t){var i;i=e.subscribe(function(r){if(i)try{o(r)}catch(r){t(r),i.unsubscribe()}else o(r)},t,r)})},i.prototype._subscribe=function(r){return this.source.subscribe(r)},i.prototype[t.observable]=function(){return this},i.prototype.pipe=function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return 0===r.length?this:e.pipeFromArray(r)(this)},i.prototype.toPromise=function(o){var t=this;if(o||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?o=r.root.Rx.config.Promise:r.root.Promise&&(o=r.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(r,o){var e;t.subscribe(function(r){return e=r},function(r){return o(r)},function(){return r(e)})})},i.create=function(r){return new i(r)},i}();exports.Observable=i;
},{"./util/root":"SgnA","./util/toSubscriber":"4qVc","./symbol/observable":"siyM","./util/pipe":"5esv"}],"EIUo":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(t,o){for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);function e(){this.constructor=t}t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)},o=require("./Subscriber"),r=function(o){function r(){o.apply(this,arguments)}return t(r,o),r.prototype.notifyNext=function(t,o,r,e,n){this.destination.next(o)},r.prototype.notifyError=function(t,o){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(o.Subscriber);exports.OuterSubscriber=r;
},{"./Subscriber":"LGJh"}],"q6Po":[function(require,module,exports) {
"use strict";exports.isArrayLike=function(e){return e&&"number"==typeof e.length};
},{}],"vkb2":[function(require,module,exports) {
"use strict";function t(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}exports.isPromise=t;
},{}],"pSKN":[function(require,module,exports) {
"use strict";var r=require("../util/root");function t(r){var t=r.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var e=r.Set;if(e&&"function"==typeof(new e)["@@iterator"])return"@@iterator";var o=r.Map;if(o)for(var i=Object.getOwnPropertyNames(o.prototype),a=0;a<i.length;++a){var n=i[a];if("entries"!==n&&"size"!==n&&o.prototype[n]===o.prototype.entries)return n}return"@@iterator"}exports.symbolIteratorPonyfill=t,exports.iterator=t(r.root),exports.$$iterator=exports.iterator;
},{"../util/root":"SgnA"}],"xW9Z":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},e=require("./Subscriber"),r=function(e){function r(t,r,i){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=i,this.index=0}return t(r,e),r.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},r.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(e.Subscriber);exports.InnerSubscriber=r;
},{"./Subscriber":"LGJh"}],"k+FJ":[function(require,module,exports) {
"use strict";var e=require("./root"),r=require("./isArrayLike"),o=require("./isPromise"),i=require("./isObject"),t=require("../Observable"),n=require("../symbol/iterator"),s=require("../InnerSubscriber"),l=require("../symbol/observable");function u(u,b,a,c){var f=new s.InnerSubscriber(u,a,c);if(f.closed)return null;if(b instanceof t.Observable)return b._isScalar?(f.next(b.value),f.complete(),null):(f.syncErrorThrowable=!0,b.subscribe(f));if(r.isArrayLike(b)){for(var v=0,d=b.length;v<d&&!f.closed;v++)f.next(b[v]);f.closed||f.complete()}else{if(o.isPromise(b))return b.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(r){e.root.setTimeout(function(){throw r})}),f;if(b&&"function"==typeof b[n.iterator])for(var m=b[n.iterator]();;){var p=m.next();if(p.done){f.complete();break}if(f.next(p.value),f.closed)break}else if(b&&"function"==typeof b[l.observable]){var y=b[l.observable]();if("function"==typeof y.subscribe)return y.subscribe(new s.InnerSubscriber(u,a,c));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var q="You provided "+(i.isObject(b)?"an invalid object":"'"+b+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(q))}}return null}exports.subscribeToResult=u;
},{"./root":"SgnA","./isArrayLike":"q6Po","./isPromise":"vkb2","./isObject":"gzZ3","../Observable":"DRWY","../symbol/iterator":"pSKN","../InnerSubscriber":"xW9Z","../symbol/observable":"siyM"}],"NZZi":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);function i(){this.constructor=t}t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},r=require("../OuterSubscriber"),e=require("../util/subscribeToResult");function i(t){return function(r){var e=new o(t),i=r.lift(e);return e.caught=i}}exports.catchError=i;var o=function(){function t(t){this.selector=t}return t.prototype.call=function(t,r){return r.subscribe(new s(t,this.selector,this.caught))},t}(),s=function(r){function i(t,e,i){r.call(this,t),this.selector=e,this.caught=i}return t(i,r),i.prototype.error=function(t){if(!this.isStopped){var i=void 0;try{i=this.selector(t,this.caught)}catch(t){return void r.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(e.subscribeToResult(this,i))}},i}(r.OuterSubscriber);
},{"../OuterSubscriber":"EIUo","../util/subscribeToResult":"k+FJ"}],"ayiE":[function(require,module,exports) {
"use strict";var r=require("../operators/catchError");function t(t){return r.catchError(t)(this)}exports._catch=t;
},{"../operators/catchError":"NZZi"}],"CiRJ":[function(require,module,exports) {
"use strict";var e=require("../../Observable"),r=require("../../operator/catch");e.Observable.prototype.catch=r._catch,e.Observable.prototype._catch=r._catch;
},{"../../Observable":"DRWY","../../operator/catch":"ayiE"}],"qOfF":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ServiceCall=void 0;var r=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),e=require("./"),t=require("rxjs/Observable");function n(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function o(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}require("rxjs/add/operator/catch");var a=function(r){return"Observable"===r.constructor.name},i=function(r,e,t){var n=e[r.method].apply(e,o(r.data));if(a(n)){var i=n.subscribe(function(r){return t.next(r)},function(r){return t.error(r)});return function(){return i.unsubscribe()}}return t.error(new Error("Service method not observable error: "+r.serviceName+"."+r.method)),function(){}},u=exports.ServiceCall=function(){function a(r){arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(this,a),this.router=r}return r(a,[{key:"invoke",value:function(r){var t=this;return new Promise(function(n,a){if(!Array.isArray(r.data))return a(new Error("Message format error: data must be Array"));var i,u=t.router.route(r);return u&&u.service&&e.utils.isLoader(u)?u.service.promise.then(function(e){return n(e[r.method].apply(e,o(r.data)))}):u?n((i=u.service)[r.method].apply(i,o(r.data))):void a(new Error("Service not found error: "+r.serviceName+"."+r.method))})}},{key:"listen",value:function(r){var n=this;return t.Observable.create(function(t){Array.isArray(r.data)||t.error(new Error("Message format error: data must be Array"));var o=n.router.route(r);if(o){if(e.utils.isLoader(o)){var a=new Promise(function(e){o.service.promise.then(function(n){e(i(r,n,t))}).catch(function(r){return t.error(r)})});return function(){a.then(function(r){return r()})}}return i(r,o.service,t)}t.error(new Error("Service not found error: "+r.serviceName+"."+r.method))})}}]),a}();
},{"./":"zfNb","rxjs/Observable":"DRWY","rxjs/add/operator/catch":"CiRJ"}],"u1Mj":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ServicesConfig=void 0;var e=function(){function e(e,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,i,n){return i&&e(r.prototype,i),n&&e(r,n),r}}(),r=require("./");function i(e){if(Array.isArray(e)){for(var r=0,i=Array(e.length);r<e.length;r++)i[r]=e[r];return i}return Array.from(e)}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var t=function(){function r(e){n(this,r),this.servicesBuilder=[].concat(i(e.servicesConfig.servicesConfig)),this.microservicesBuilder=e}return e(r,[{key:"builder",value:function(e){this.microservicesBuilder=e}},{key:"build",value:function(){return this.microservicesBuilder.services(new s(this.servicesBuilder))}},{key:"services",value:function(){for(var e=this,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return i[0].map(function(r){"function"==typeof r&&console.error(new Error(r.name+" is a class not instance")),e.add(new s(r))}),this}},{key:"add",value:function(e){return this.servicesBuilder.push(e),this}},{key:"create",value:function(){return new s(this.servicesBuilder)}}]),r}(),s=function(){function i(e,t){return n(this,i),e&&Array.isArray(e)?(this.servicesConfig=e,this):(t&&t.constructor&&"Builder"!==t.constructor.name&&(this.mcBuilder=t),this.service=e,this.serviceDefinition=r.ServiceDefinition.from(e),this)}return e(i,null,[{key:"builder",value:function(e){return new t(e)}}]),i}();exports.ServicesConfig=s;
},{"./":"zfNb"}],"oqd2":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ServiceDefinition=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("./");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=exports.ServiceDefinition=function(){function r(e,i,o){n(this,r),this.serviceInterface=t.utils.getServiceInterface(e),this.serviceName=i,this.methods=o}return e(r,null,[{key:"getMethod",value:function(e,t,n){return"Promise"===e.type?t:t[n]}},{key:"from",value:function(e){var n={},i=e.constructor.meta||e.meta;return Object.keys(i.methods).map(function(t){n[t]=r.getMethod(i,e,t)}),new r(e,t.utils.getServiceName(e),n)}}]),r}();
},{"./":"zfNb"}],"b68n":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ServiceRegistery=void 0;var e=function(){function e(e,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(i,r,s){return r&&e(i.prototype,r),s&&e(i,s),i}}(),i=require("./");function r(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var s=exports.ServiceRegistery=function(){function i(e){var s=this;return r(this,i),this.services=this.services||{},e.servicesConfig.map(function(e){s.register(e)}),this}return e(i,[{key:"serviceLookup",value:function(e){return this.services[e]||[]}},{key:"register",value:function(e){this.services[e.serviceDefinition.serviceName]?this.services[e.serviceDefinition.serviceName].push(e):this.services[e.serviceDefinition.serviceName]=[e]}}]),i}();
},{"./":"zfNb"}],"bw2q":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.ServicePromise=void 0;var e=require("./");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=exports.ServicePromise=function(e){function n(){return t(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,Promise),n}();
},{"./":"zfNb"}],"EFRK":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=exports.getServiceInterface=function(e){return e.constructor.name},t=exports.getServiceName=function(e){return e.meta&&e.meta.serviceName||e.constructor.meta&&e.constructor.meta.serviceName||e.constructor.name},r=exports.isLoader=function(e){return e&&e.service&&e.service.meta&&"Loader"===e.service.meta.type},a=exports.makeLoader=function(e,t){return{promise:e,meta:Object.assign(t.meta,{type:"Loader",serviceName:t.meta&&t.meta.serviceName||t.name})}};
},{}],"zfNb":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.utils=exports.ServicePromise=exports.ServiceRegistery=exports.ServiceDefinition=exports.ServicesConfig=exports.ServiceCall=exports.Router=exports.RoundRobinServiceRouter=exports.ProxyContext=exports.ServiceInstance=exports.Microservices=exports.DispatcherContext=exports.Message=void 0;var e=require("./Message"),r=require("./DispatcherContext"),i=require("./Microservices"),t=require("./ServiceInstance"),o=require("./ProxyContext"),s=require("./RoundRobinRouter"),c=require("./Router"),n=require("./ServiceCall"),x=require("./ServicesConfig"),u=require("./ServiceDefinition"),v=require("./ServiceRegistery"),p=require("./ServicePromise"),S=require("./utils"),a=R(S);function R(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r}exports.Message=e.Message,exports.DispatcherContext=r.DispatcherContext,exports.Microservices=i.Microservices,exports.ServiceInstance=t.ServiceInstance,exports.ProxyContext=o.ProxyContext,exports.RoundRobinServiceRouter=s.RoundRobinServiceRouter,exports.Router=c.Router,exports.ServiceCall=n.ServiceCall,exports.ServicesConfig=x.ServicesConfig,exports.ServiceDefinition=u.ServiceDefinition,exports.ServiceRegistery=v.ServiceRegistery,exports.ServicePromise=p.ServicePromise,exports.utils=a;
},{"./Message":"VtW9","./DispatcherContext":"jp5m","./Microservices":"lWhJ","./ServiceInstance":"VtW9","./ProxyContext":"2dzk","./RoundRobinRouter":"zPm+","./Router":"x038","./ServiceCall":"qOfF","./ServicesConfig":"u1Mj","./ServiceDefinition":"oqd2","./ServiceRegistery":"b68n","./ServicePromise":"bw2q","./utils":"EFRK"}],"exU4":[function(require,module,exports) {
"use strict";var e=require("@scalecube/scalecube-js"),c=e.Microservices.builder();window.scalecube={Microservices:{builder:function(){return c}}};
},{"@scalecube/scalecube-js":"zfNb"}]},{},["exU4"], null)
//# sourceMappingURL=/scalecube.map